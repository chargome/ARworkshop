<style>

    #backAndFront .container {
        width: 200px;
        height: 200px;
        position: absolute;
        top: 40vh;
        left: 40vw;
        font-size: 3em;
    }

    #backAndFront .near {
        perspective: 800px;
    }

    #backAndFront .far {
        perspective: 8000px;
    }

    .origin-near {
        transform-origin: center center -100px;
    }

    .origin-even-nearer {
        transform-origin: center center 400px;
    }

    .origin-far {
        transform-origin: center center -5000px;
    }

    #backAndFront .flipper {
        transform-style: preserve-3d;
        border-width: 1px;
        border-style: solid;
        width: 100%;
        height: 100%;
        transition: all 1s ease-in-out;
    }

    #backAndFront .background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: white;
    }

    #backAndFront .one {
        transform: translateZ(-1px);
        transition: all 1s ease-in-out;
    }

    #backAndFront .two {
        transform: translateZ(+1px);
    }

    @keyframes flip-animation {
        100% {transform: rotateY(360deg)}
    }

    #backAndFront .flip-animation {
        animation: flip-animation 5s infinite ease-in-out;
    }

    #backAndFront .flip {
        transform: rotateY(180deg);
    }

    @keyframes flip-back-animation {
        100% {transform: rotateY(0deg)}
    }

    #backAndFront .flip-back {
        transform: rotateY(0deg)
    }

</style>

<div class="slidecounter"></div>
<div class="code"></div>

<div class="container near">
    <div class="background inner-container">
        <div class="flipper">
            <div class="background one"></div>
            <div class="background two"></div>
        </div>
    </div>
</div>

<script src="./lib/dynamics.js"></script>
<script src="./slides/3dd3/js/chart.js"></script>
<script src="./slides/3dd3/js/backAndFront.js"></script>
<script>

    /* global slidAR */

    (function () {

        window._backAndFront_pie();
        window._backAndFront_donut();

        const flipStep = slidAR.classUtil.setClassStepWithReverse("#backAndFront .flipper", "flip");
        const flipBackStep = slidAR.classUtil.setClassStep("#backAndFront .flipper", "flip-back");
        const flipOneStep = slidAR.classUtil.setClassStep("#backAndFront .one", "flip");
        const flipAnimationStep = slidAR.classUtil.setClassStepWithReverse("#backAndFront .flipper", "flip-animation");
        const removeFlipStep = slidAR.classUtil.removeClassStepWithReverse("#backAndFront .flipper", "flip")

        const tooltipOneStep = slidAR.tooltip.createPtStepWithReverse("div.one canvas", "#backAndFront .one", slidAR.tooltip.BOTTOM);
        const tooltipTwoStep = slidAR.tooltip.createPtStepWithReverse("div.two canvas", "#backAndFront .two", slidAR.tooltip.TOP);

        const showCodeStep1 = slidAR.showCode.cssStepWithReverse("#backAndFront .code",
            "div.one {transform: translateZ(-1px);}\n" +
            "div.two {transform: translateZ(+1px);}")

        const showCodeStep2 = slidAR.showCode.cssStepWithReverse("#backAndFront .code",
            "div.one {transform: rotateY(180deg) translateZ(-1px);}\n" +
            "div.two {transform: translateZ(+1px);}")

        const fromNearToFarStep = slidAR.classUtil.switchClassesStepWithReverse("#backAndFront .container", "near", "far");
        const fromOriginHereToNearStep = slidAR.classUtil.setClassStepWithReverse("#backAndFront .flipper", "origin-near");
        const fromOriginNearToFarStep = slidAR.classUtil.switchClassesStepWithReverse("#backAndFront .flipper", "origin-near", "origin-far");
        const fromOriginFarToEvenNearerStep = slidAR.classUtil.switchClassesStepWithReverse("#backAndFront .flipper", "origin-far", "origin-even-nearer");

        slidAR.steps.set("backAndFront", [
            slidAR.steps.combineSteps([tooltipOneStep.step, tooltipTwoStep.step]),
            showCodeStep1.step,
            flipStep.step,
            showCodeStep2.step,
            flipOneStep,
            slidAR.steps.combineSteps([removeFlipStep.step ,flipAnimationStep.step]),
            flipAnimationStep.reverseStep,
            fromOriginHereToNearStep.step,
            flipAnimationStep.step,
            flipAnimationStep.reverseStep,
            fromOriginNearToFarStep.step,
            flipAnimationStep.step,
            flipAnimationStep.reverseStep,
            fromOriginFarToEvenNearerStep.step,
            flipAnimationStep.step,
        ])

    })()

</script>