<style>

    @keyframes animate-cube {
        100% {transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg)}
    }

    .animate-cube {
        animation: animate-cube 10s infinite ease-in-out;
    }

</style>

<div class="slidecounter"></div>
<div id="code"></div>

<div id="graphcube">
</div>

<script src="./lib/dynamics.js"></script>
<script src="./slides/3dd3/html/graph.js"></script>
<script>

    /* global Chart */
    /* global slidAR */

    (function () {

        const pieChartCode = slidAR.showCode.cssStepWithReverse("#code",
            "var context = document.querySelector(div.front canvas).getContext('2d')\n" +
            "var config = {\n" +
            "   type: 'pie',\n" +
            "   data: {\n" +
            "       datasets: [{\n" +
            "           data: [random0To100(), random0To100(), random0To100(), random0To100(), random0To100()],\n" +
            "           backgroundColor: [chartColors.red, chartColors.orange, chartColors.yellow, chartColors.green, chartColors.blue],\n" +
            "           label: 'Dataset 1'\n" +
            "       }],\n" +
            "       labels: [\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"]\n" +
            "   },\n" +
            "   options: {responsive: true}\n" +
            "};\n" +
            "\n" +
            "new Chart(context, config);\n");

        const donutCharCode = slidAR.showCode.cssStepWithReverse("#code",
            "var context = document.querySelector(div.left canvas).getContext('2d')\n" +
            "var config = {\n" +
            "   type: 'doughnut',\n" +
            "   data: {\n" +
            "       datasets: [{\n" +
            "           data: [random0To100(), random0To100(), random0To100(), random0To100(), random0To100()],\n" +
            "           backgroundColor: [chartColors.red, chartColors.orange, chartColors.yellow, chartColors.green, chartColors.blue],\n" +
            "           label: 'Dataset 1'\n" +
            "       }],\n" +
            "       labels: [\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"]\n" +
            "   },\n" +
            "   options: {\n" +
            "       responsive: true,\n" +
            "       legend: {position: 'top'},\n" +
            "       title: {\n" +
            "           display: true,\n" +
            "           text: 'Chart.js Doughnut Chart'\n" +
            "       },\n" +
            "       animation: {\n" +
            "           animateScale: true,\n" +
            "           animateRotate: true\n" +
            "       }\n" +
            "   }\n" +
            "};\n" +
            "\n" +
            "new Chart(context, config);");

        const pinCode = slidAR.showCode.jsStepWithReverse("#code",
            "var svg d3.select(\"div.front svg\")\n" +
            "var g = svg.append(\"g\")\n" +
            "   .attr(\"transform\", \"translate(50,50)\")\n" +
            "\n" +
            "g.append(\"path\")\n" +
            "   .attr(\"d\", \"M38 106.7c2.4 0 37.7-43 37.8-68.8 0-21-17-38-38-38C17 0 0 17 0 38c.4 27 35.4 68.7 38 68.7z\")\n" +
            "   .attr(\"fill\", \"#EC1A0A\")\n" +
            "\n" +
            "g.append(\"ellipse\")\n" +
            "   .attr(\"fill\", \"#FFF\")\n" +
            "   .attr(\"cx\", \"38.1\")\n" +
            "   .attr(\"cy\", \"38.1\")\n" +
            "   .attr(\"rx\", \"23.1\")\n" +
            "   .attr(\"ry\", \"23.1\")\n")

        const tooltipStepFront = slidAR.tooltip.createPtStepWithReverse("div.front canvas", "#graphcube .front", slidAR.tooltip.TOP);
        const tooltipStepLeft = slidAR.tooltip.createPtStepWithReverse("div.right canvas", "#graphcube .right", slidAR.tooltip.TOP);
        const tooltipStepTop = slidAR.tooltip.createPtStepWithReverse("div.top svg", "#graphcube .top", slidAR.tooltip.TOP);

        slidAR.cube.create("#graphcube", 200);
        slidAR.canvas.addCanvas("#graphcube .front", 200, 200);
        slidAR.canvas.addCanvas("#graphcube .right", 200, 200);

        slidAR.steps.set("graph", [
            tooltipStepFront.step,
            pieChartCode.step,
            {f: _graph_pie, b: _graph_clean_pie},
            pieChartCode.reverseStep,
            tooltipStepLeft.step,
            donutCharCode.step,
            {f: _graph_donut, b: _graph_clean_donut},
            donutCharCode.reverseStep,
            tooltipStepTop.step,
            pinCode.step,
            {f: _graph_pin, b: _graph_clean_pin},
        ])

    })()


</script>